<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BEN 10: Heroic Run</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="assets/images/omnitrix.png">
    
    <!-- Police d'√©criture style Ben 10 -->
    <style>
        @font-face {
            font-family: 'Ben10';
            src: url('assets/fonts/ben10.ttf') format('truetype');
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- √âcran de d√©marrage -->
        <div id="start-screen" class="screen">
            <div class="title-container">
                <h1 class="main-title">BEN 10</h1>
                <h2 class="sub-title">HEROIC RUN</h2>
                <div class="omnitrix-animation"></div>
            </div>
            
            <div class="character-select">
                <h3>CHOISIS TON ALIEN DE D√âPART</h3>
                <div class="aliens-grid">
                    <div class="alien-card" data-alien="heatblast" data-unlocked="true">
                        <div class="alien-icon" style="background-color: #ff6b35;"></div>
                        <span>Heatblast</span>
                        <div class="alien-ability">üî• Feu</div>
                    </div>
                    <div class="alien-card" data-alien="xlr8" data-unlocked="true">
                        <div class="alien-icon" style="background-color: #4287f5;"></div>
                        <span>XLR8</span>
                        <div class="alien-ability">‚ö° Vitesse</div>
                    </div>
                    <div class="alien-card" data-alien="diamondhead" data-unlocked="false">
                        <div class="alien-icon" style="background-color: #00ff88;"></div>
                        <span>Diamondhead</span>
                        <div class="alien-ability">üíé Cristal</div>
                        <div class="lock-icon">üîí Niv. 5</div>
                    </div>
                </div>
            </div>
            
            <div class="controls-info">
                <div class="control-item">
                    <div class="key">SPACE</div>
                    <span>SAUTER</span>
                </div>
                <div class="control-item">
                    <div class="key">S</div>
                    <span>TRANSFORMER</span>
                </div>
                <div class="control-item">
                    <div class="key">P</div>
                    <span>PAUSE</span>
                </div>
            </div>
            
            <button id="start-btn" class="btn-primary">COMMENCER LA MISSION</button>
            <button id="instructions-btn" class="btn-secondary">INSTRUCTIONS</button>
            
            <div class="high-score">
                <span>MEILLEUR SCORE:</span>
                <span id="high-score-value">0</span>
            </div>
        </div>

        <!-- √âcran de jeu -->
        <div id="game-screen" class="screen hidden">
            <div class="game-header">
                <div class="omnitrix-display">
                    <div class="omnitrix-time">00:00</div>
                    <div class="alien-name">HEATBLAST</div>
                    <div class="energy-bar">
                        <div class="energy-fill"></div>
                    </div>
                </div>
                
                <div class="stats">
                    <div class="stat">
                        <span class="stat-icon">‚≠ê</span>
                        <span id="score">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-icon">ü™ô</span>
                        <span id="coins">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-icon">üèÉ</span>
                        <span id="distance">0m</span>
                    </div>
                </div>
            </div>

            <div class="game-container">
                <canvas id="game-canvas"></canvas>
                
                <div class="abilities">
                    <button id="transform-btn" class="ability-btn">
                        <img src="assets/images/omnitrix.png" alt="Omnitrix">
                        <span>TRANSFORMER</span>
                        <div class="cooldown"></div>
                    </button>
                    
                    <button id="special-btn" class="ability-btn">
                        <div class="special-icon">üî•</div>
                        <span>POUVOIR SP√âCIAL</span>
                        <div class="cooldown"></div>
                    </button>
                </div>
            </div>

            <div class="mobile-controls">
                <button id="jump-btn" class="mobile-btn">SAUTER</button>
                <button id="transform-mobile-btn" class="mobile-btn">OMNITRIX</button>
            </div>
        </div>

        <!-- √âcran de pause -->
        <div id="pause-screen" class="screen hidden">
            <h2>PAUSE</h2>
            <div class="pause-stats">
                <div class="pause-stat">
                    <span>Score:</span>
                    <span id="pause-score">0</span>
                </div>
                <div class="pause-stat">
                    <span>Distance:</span>
                    <span id="pause-distance">0m</span>
                </div>
                <div class="pause-stat">
                    <span>Aliens d√©bloqu√©s:</span>
                    <span id="pause-aliens">1/10</span>
                </div>
            </div>
            <button id="resume-btn" class="btn-primary">REPRENDRE</button>
            <button id="restart-btn" class="btn-secondary">RECOMMENCER</button>
            <button id="quit-btn" class="btn-secondary">QUITTER</button>
        </div>

        <!-- √âcran game over -->
        <div id="game-over-screen" class="screen hidden">
            <h2 class="game-over-title">MISSION √âCHOU√âE!</h2>
            <div class="game-over-stats">
                <div class="game-over-stat">
                    <span>SCORE FINAL:</span>
                    <span class="stat-value" id="final-score">0</span>
                </div>
                <div class="game-over-stat">
                    <span>DISTANCE:</span>
                    <span class="stat-value" id="final-distance">0m</span>
                </div>
                <div class="game-over-stat">
                    <span>PI√àCES COLLECT√âES:</span>
                    <span class="stat-value" id="final-coins">0</span>
                </div>
                <div class="game-over-stat">
                    <span>NOUVEAUX ALIENS:</span>
                    <span class="stat-value" id="new-aliens">0</span>
                </div>
            </div>
            
            <div class="unlocked-aliens">
                <h3>ALIENS D√âBLOQU√âS</h3>
                <div id="aliens-list" class="aliens-list">
                    <!-- Rempli dynamiquement -->
                </div>
            </div>
            
            <button id="play-again-btn" class="btn-primary">REESSAYER</button>
            <button id="menu-btn" class="btn-secondary">MENU PRINCIPAL</button>
            
            <div class="share-score">
                <p>D√©fie tes amis!</p>
                <button id="share-btn" class="btn-share">
                    <span>üì¢ PARTAGER MON SCORE</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Instructions Modal -->
    <div id="instructions-modal" class="modal hidden">
        <div class="modal-content">
            <h3>COMMENT JOUER</h3>
            <div class="instructions">
                <div class="instruction">
                    <h4>üéÆ CONTROLES</h4>
                    <p><strong>SPACE</strong> - Sauter par-dessus les obstacles</p>
                    <p><strong>S</strong> - Te transformer en alien diff√©rent</p>
                    <p><strong>P</strong> - Mettre en pause le jeu</p>
                    <p><strong>CLIC</strong> - Activer le pouvoir sp√©cial</p>
                </div>
                
                <div class="instruction">
                    <h4>üëΩ ALIENS</h4>
                    <p>Chaque alien a des capacit√©s uniques:</p>
                    <ul>
                        <li><strong>Heatblast</strong>: Lance des boules de feu</li>
                        <li><strong>XLR8</strong>: Course ultra-rapide</li>
                        <li><strong>Diamondhead</strong> (Niv.5): Peut briser les obstacles</li>
                        <li><strong>FourArms</strong> (Niv.10): Force surhumaine</li>
                    </ul>
                </div>
                
                <div class="instruction">
                    <h4>‚≠ê OBJECTIF</h4>
                    <p>Course le plus loin possible, √©vite les obstacles, collecte les pi√®ces pour d√©bloquer de nouveaux aliens!</p>
                </div>
            </div>
            <button id="close-instructions-btn" class="btn-primary">J'AI COMPRIS!</button>
        </div>
    </div>

    <audio id="jump-sound" preload="auto"></audio>
    <audio id="transform-sound" preload="auto"></audio>
    <audio id="coin-sound" preload="auto"></audio>
    <audio id="game-over-sound" preload="auto"></audio>
    <audio id="background-music" loop preload="auto"></audio>

    <script src="game.js"></script>
    <script>
        // Enregistrement du Service Worker pour PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then(registration => {
                        console.log('Service Worker enregistr√© avec succ√®s');
                    })
                    .catch(error => {
                        console.log('√âchec enregistrement Service Worker:', error);
                    });
            });
        }
    </script>
</body>
</html>
